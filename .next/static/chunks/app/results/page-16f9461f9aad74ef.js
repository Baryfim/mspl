(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{3620:(e,t,r)=>{"use strict";async function a(){try{let e=(await fetch("http://195.24.64.231:8888/api/projects?populate=image").then(e=>e.json())).data.map(e=>({id:e.id,title:e.title,url:e.url,description:e.Description,img:"http://195.24.64.231:8888"+e.image[0].url}));return console.log(e),e}catch(e){console.log(e)}}r.d(t,{A:()=>a})},4724:(e,t,r)=>{Promise.resolve().then(r.bind(r,9995))},4887:e=>{e.exports={base:"Typography_base__5ubtm","size-small":"Typography_size-small__nhFG9","size-medium":"Typography_size-medium__9Oxkl","size-large":"Typography_size-large___e2ei","color-light":"Typography_color-light__J3VFI","color-dark":"Typography_color-dark__GP0v8"}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6776:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(5155),n=r(8439),s=r.n(n);let c=e=>{let{size:t,children:r}=e;return(0,a.jsx)("div",{className:"".concat(s().banner_wrapper," ").concat("small"===t&&s().banner_small),style:{backgroundImage:"url('/bg1.png')",backgroundSize:"cover",backgroundPosition:"center center"},children:(0,a.jsx)("div",{className:s().banner_contrainer,children:(0,a.jsx)("div",{className:s().banner_inner,children:r})})})}},7399:e=>{e.exports={form_wrapper:"form_form_wrapper__l9vIX",form_inner:"form_form_inner__fHmjM",divie:"form_divie__egtif",button_search:"form_button_search__1Shk7",from_content:"form_from_content__AmVt9",date:"form_date___iJcN",game:"form_game__DJNU7",input_wrapper:"form_input_wrapper__n_z2R",select_wrapper:"form_select_wrapper__dH55f",select:"form_select__ZklCH",not_found:"form_not_found__gdJv8"}},8439:e=>{e.exports={banner_inner:"Banner_banner_inner__BJIHa",banner_contrainer:"Banner_banner_contrainer__YU27z",banner_small:"Banner_banner_small__FaThn"}},9655:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(5155),n=r(4887),s=r.n(n);function c(e){let{size:t,color:r,center:n,children:c}=e;return(0,a.jsx)("h1",{className:"".concat(s().base," ").concat(s()["size-".concat(t)]," ").concat(s()["color-".concat(r)]),style:{textAlign:n?"center":"left"},children:c})}},9995:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(5155),n=r(6776),s=r(9655),c=r(2115),l=r(7399),i=r.n(l),o=r(3620);async function _(e){let{date:t,project:r}=e,a="http://195.24.64.231:8888/api/docs?populate=project&populate[0]=file&filters[date][$eq]=".concat(t,"&filters[project][title][$eq]=").concat(r);try{let e=await fetch(a).then(e=>e.json());return{url:"http://195.24.64.231:8888"+e.data[0].file[0].url}}catch(e){console.log(e)}}var d=r(5695);let u=()=>{let e=new Date().toISOString().split("T")[0],[t,r]=(0,c.useState)(e),[n,s]=(0,c.useState)(""),[l,u]=(0,c.useState)(!0),[p,m]=(0,c.useState)([]),h=(0,d.useRouter)();return(0,c.useEffect)(()=>{(async()=>{let e=await (0,o.A)();void 0!==e&&e.length>0&&m(e)})()},[]),(0,a.jsx)("div",{className:i().form_wrapper,children:(0,a.jsx)("div",{className:i().form_inner,children:(0,a.jsxs)("div",{className:i().divie,children:[(0,a.jsxs)("div",{className:i().from_content,children:[(0,a.jsxs)("div",{className:i().date,children:[(0,a.jsx)("h3",{children:"Дата"}),(0,a.jsx)("div",{className:i().input_wrapper,children:(0,a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:t,onChange:e=>r(e.target.value)})})]}),(0,a.jsxs)("div",{className:i().game,children:[(0,a.jsx)("h3",{children:"Выбор игр"}),(0,a.jsx)("div",{className:i().select_wrapper,children:(0,a.jsx)("select",{name:"pets",className:i().select,id:"pet-select",value:n,onChange:e=>s(e.target.value),children:p.map(e=>(0,a.jsx)("option",{value:e.title,children:e.title},e.id))})})]})]}),(0,a.jsx)("button",{className:i().button_search,onClick:()=>{let e=t.split("-");(async e=>{let{date:t,project:r}=e,a=await _({date:t,project:r});if(void 0!==a){h.push(a.url);return}u(!1),setTimeout(()=>{u(!0)},1700)})({date:"".concat(e[0],"-").concat(e[1],"-").concat(e[2]),project:n})},children:l?(0,a.jsx)("img",{src:"/SEARCH.svg",alt:"Search"}):(0,a.jsxs)("div",{className:i().not_found,children:[(0,a.jsx)("h1",{children:"!"}),(0,a.jsxs)("h3",{children:["Файл",(0,a.jsx)("br",{}),"Не найден"]})]})})]})})})},p=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{size:"small",children:(0,a.jsx)(s.A,{center:!0,size:"medium",color:"light",children:"Результаты"})}),(0,a.jsx)(u,{})]})}},e=>{var t=t=>e(e.s=t);e.O(0,[350,441,684,358],()=>t(4724)),_N_E=e.O()}]);